javascript:(()=>{const e=e=>location.pathname.startsWith("/race"),t=[],n=window.WebSocket;window.WebSocket=function(...e){const o=new n(...e);return t.push(o),o};const o=e=>new Promise((t=>setTimeout(e,1e3*t))),a={"ntbot_enabled":!0,"ntbot_wpm":200,"ntbot_acc":100,"ntbot_wpm_var":10,"ntbot_acc_var":5,"ntbot_color":"#0f0"},s=(e,t)=>{const n=sessionStorage.getItem(e);return null!==n?parseInt(n):t},r=(e,t)=>{sessionStorage.setItem(e,t.toString())},c=(e,t)=>{const n=sessionStorage.getItem(e);return null===n?t:"true"===n},l=(e,t)=>{sessionStorage.setItem(e,t?"true":"false")},i=(e,t)=>null!==sessionStorage.getItem(e)?sessionStorage.getItem(e):t,u=(e,t)=>{sessionStorage.setItem(e,t)};let d=c("ntbot_enabled",a.ntbot_enabled),m=s("ntbot_wpm",a.ntbot_wpm),p=s("ntbot_acc",a.ntbot_acc),g=s("ntbot_wpm_var",a.ntbot_wpm_var),h=s("ntbot_acc_var",a.ntbot_acc_var),b=i("ntbot_color",a.ntbot_color);const y=()=>{if(document.getElementById("ntbot_gui"))return;const e=document.createElement("style");e.textContent=`#ntbot_gui{position:fixed;top:10px;right:10px;background:#111;color:#fff;padding:10px 15px;border-radius:8px;font-family:Arial,sans-serif;font-size:14px;width:280px;box-shadow:0 0 15px ${b};z-index:99999;user-select:none}#ntbot_gui h2{margin:0 0 10px 0;font-size:18px;cursor:pointer}#ntbot_gui .section{margin-bottom:12px}#ntbot_gui label{display:block;margin-bottom:4px;font-weight:700}#ntbot_gui input[type=number],#ntbot_gui input[type=range],#ntbot_gui input[type=color]{width:100%;font-size:14px;padding:4px;border-radius:4px;border:none;background:#fff;color:#000}#ntbot_gui .small-text{font-size:11px;color:#aaa;margin-top:2px}#ntbot_gui button.toggle-btn{background:${b};border:none;padding:6px 10px;border-radius:4px;cursor:pointer;font-weight:700;color:#000;width:100%;margin-top:8px}#ntbot_gui .variance-value{text-align:right;font-size:12px;color:${b};margin-top:-16px;margin-bottom:6px;user-select:none}#ntbot_credits{font-size:12px;text-align:center;margin-top:10px;color:#ccc}#ntbot_credits .highlight{font-size:14px;color:${b};font-weight:700}#ntbot_credits a{color:${b};text-decoration:none}`,document.head.appendChild(e);const t=document.createElement("div");t.id="ntbot_gui",t.innerHTML=`<h2 id="ntbot_toggle">Nitrotype Bot ▲</h2><div class="collapse-content"><div class="section"><label for="ntbot_enabled">Enable Bot</label><button id="ntbot_enabled" class="toggle-btn">${d?"ON":"OFF"}</button></div><div class="section"><label for="ntbot_wpm_input">Base WPM</label><input type="number" id="ntbot_wpm_input" min="1" max="3600" value="${m}"></div><div class="variance-value" id="wpm_var_val">${g} WPM variance</div><input type="range" id="ntbot_wpm_var" min="0" max="50" step="1" value="${g}"><div class="section" style="margin-top:12px"><label for="ntbot_acc_input">Base Accuracy (%)</label><input type="number" id="ntbot_acc_input" min="1" max="100" value="${p}"></div><div class="variance-value" id="acc_var_val">${h} accuracy variance</div><input type="range" id="ntbot_acc_var" min="0" max="20" step="1" value="${h}"><div class="section"><label for="ntbot_color_picker">Highlight Color</label><input type="color" id="ntbot_color_picker" value="${b}"></div><div id="ntbot_credits">Credit: RedHawk and adl212 and<br><a class="highlight" href="https://www.youtube.com/@InternetTyper" target="_blank">@InternetTyper on YouTube</a></div></div>`,document.body.appendChild(t),t.querySelector("#ntbot_toggle").addEventListener("click",(()=>{t.classList.toggle("collapsed"),t.querySelector("#ntbot_toggle").textContent=t.classList.contains("collapsed")?"Nitrotype Bot ▼":"Nitrotype Bot ▲"}));const n=t.querySelector("#ntbot_enabled");n.addEventListener("click",(()=>{d=!d,l("ntbot_enabled",d),n.textContent=d?"ON":"OFF",n.style.background=d?b:"#555"})),n.style.background=d?b:"#555",t.querySelector("#ntbot_wpm_input").addEventListener("change",(e=>{let t=parseInt(e.target.value);(isNaN(t)||t<1)&&(t=1),t>3600&&(t=3600),m=t,r("ntbot_wpm",m),e.target.value=m})),t.querySelector("#ntbot_wpm_var").addEventListener("input",(e=>{g=parseInt(e.target.value),r("ntbot_wpm_var",g),t.querySelector("#wpm_var_val").textContent=`${g} WPM variance`})),t.querySelector("#ntbot_acc_input").addEventListener("change",(e=>{let t=parseInt(e.target.value);(isNaN(t)||t<1)&&(t=1),t>100&&(t=100),p=t,r("ntbot_acc",p),e.target.value=p})),t.querySelector("#ntbot_acc_var").addEventListener("input",(e=>{h=parseInt(e.target.value),r("ntbot_acc_var",h),t.querySelector("#acc_var_val").textContent=`${h} accuracy variance`})),t.querySelector("#ntbot_color_picker").addEventListener("change",(e=>{b=e.target.value,u("ntbot_color",b),location.reload()}))};y();const w=setInterval((()=>{if(t.length>0){const n=t[0];n._ntbot_hooked||(n._ntbot_hooked=!0,n.addEventListener("message",(async t=>{if(d&&e()){const a=t.data,s=e=>{try{const t=JSON.parse(e.slice(1));if(t&&t.payload&&"string"==typeof t.payload.l)return t.payload.l}catch{}return null},r=s(a);if("string"==typeof r){const e=r.split(" ").join(" "),t=e.length,a=[];for(let t=0;t<e.length;t++){const e=Math.max(1,Math.min(3600,m+((s=-g,c=g,Math.floor(Math.random()*(c-s+1))+s)));var s,c;const t=60*e*5,n=60*1e3/t;a.push(n)}await o(4.3),n.send('4{"stream":"race","msg":"update","payload":{"t":1,"f":0}}');let s=2,c=1;for(let t=0;t<e.length;t++)n.send(`4{"stream":"race","msg":"update","payload":{"t":${s},"f":${c}}}`),await o(a[t]/1e3),s++}}})),clearInterval(w)}}),500)})();
